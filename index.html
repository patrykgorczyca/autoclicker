var x = 0; var y = 0; var e = false; var cd = 0.1; var iid; var cc = 0; var b = document.createElement("div"); b.style.cssText = "all: initial !important; text-align: center !important; position: fixed !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; width: 340px !important; height: 240px !important; background-color: #eee !important; outline: 1px #aaa solid !important; z-index: 100 !important; user-select: none !important; display: block !important;"; document.body.appendChild(b); var tb = document.createElement("div"); tb.innerHTML = "Autoclicker"; tb.style.cssText = "all: initial !important; position: absolute !important; left: 0 !important; top: 0 !important; font-family: 'Segoe UI' !important; font-size: 18px !important; text-align: center !important; width: 100% !important; background-color: #aaa !important; padding-top: 4px !important; padding-bottom: 4px !important; user-select: none !important;"; b.appendChild(tb); var cl = document.createElement("label"); cl.innerHTML = "Click:"; cl.style.cssText = "all: initial !important; position: absolute !important; left: 10px !important; top: 40px !important; font-family: 'Segoe UI' !important; font-size: 18px !important; font-weight: 600 !important; user-select: none !important;"; b.appendChild(cl); var cdl = document.createElement("label"); cdl.innerHTML = "Delay:"; cdl.style.cssText = "all: initial !important; position: absolute !important; left: 10px !important; top: 64px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; b.appendChild(cdl); var sl = document.createElement("label"); sl.innerHTML = "Seconds"; sl.style.cssText = "all: initial !important; position: absolute !important; right: 10px !important; top: 64px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; b.appendChild(sl); var cdi = document.createElement("input"); cdi.value = "0.1"; cdi.style.cssText = "all: initial !important; position: absolute !important; right: 80px !important; top: 64px !important; font-family: 'Segoe UI' !important; background-color: #fff !important; border-bottom: 2px #aaa solid !important; width: 40px !important; text-align: center !important; user-select: none !important;"; b.appendChild(cdi); var rl = document.createElement("label"); rl.innerHTML = "Repeat:"; rl.style.cssText = "all: initial !important; position: absolute !important; left: 10px !important; top: 90px !important; font-family: 'Segoe UI' !important; font-size: 18px !important; font-weight: 600 !important; user-select: none !important;"; b.appendChild(rl); var l1 = document.createElement("label"); l1.innerHTML = "Until Stopped"; l1.style.cssText = "position: absolute !important; left: 36px !important; top: 114px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; b.appendChild(l1); var o1 = document.createElement("input"); o1.style.cssText = "position: absolute !important; left: 10px !important; top: 119px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; o1.type = "radio"; o1.name = "autoclickOption"; o1.value = "1"; o1.checked = true; b.appendChild(o1); var l2 = document.createElement("label"); l2.innerHTML = "Times"; l2.style.cssText = "position: absolute !important; right: 28px !important; top: 114px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; b.appendChild(l2); var cti = document.createElement("input"); cti.value = "10"; cti.style.cssText = "all: initial !important; position: absolute !important; right: 80px !important; top: 114px !important; font-family: 'Segoe UI' !important; background-color: #fff !important; border-bottom: 2px #aaa solid !important; width: 40px !important; text-align: center !important; user-select: none !important;"; b.appendChild(cti); var o2 = document.createElement("input"); o2.style.cssText = "position: absolute !important; right: 130px !important; top: 119px !important; font-family: 'Segoe UI' !important; user-select: none !important;"; o2.type = "radio"; o2.name = "autoclickOption"; o2.value = "2"; b.appendChild(o2); var sb = document.createElement("button"); sb.style.cssText = "position: absolute !important; left: 20px !important; bottom: 10px !important; font-family: 'Segoe UI' !important; width: 300px !important; height: 30px !important; background-color: #0b0 !important; user-select: none !important;"; sb.onclick = toggleClick; sb.id = "toggleAutoclicker"; sb.innerHTML = "Start (E)"; b.appendChild(sb); var cpl = document.createElement("label"); cpl.innerHTML = "Cursor Position: 0, 0"; cpl.style.cssText = "all: initial !important; position: absolute !important; right: 10px !important; top: 40px !important; font-family: 'Segoe UI' !important; font-size: 12px !important; user-select: none !important;"; b.appendChild(cpl); var id = false; var csx = 0; var csy = 0; tb.addEventListener('mousedown', function (event) { id = true; csx = event.clientX - b.offsetLeft; csy = event.clientY - b.offsetTop; }); document.addEventListener('mousemove', function(event) { x = event.clientX; y = event.clientY; cpl.innerHTML = "Cursor Position: " + event.clientX + ", " + event.clientY; if (id) { const ox = x - csx; const oy = y - csy; b.style.all = "initial"; b.style.left = ox + "px"; b.style.top = oy + "px"; } }); document.addEventListener('mouseup', function () { id = false; }); function createInterval() { clearInterval(iid); iid = setInterval(function(event) { console.log("interval"); const eam = document.elementFromPoint(x, y); const sr = document.querySelector('input[name="autoclickOption"]:checked'); if (sr.value === "2" && !isNaN(cti.value)) { var maxClicks = +cti.value; if (cc >= maxClicks) { toggleClick(); clearInterval(iid); } } if (eam && e && eam.id !== "toggleAutoclicker") { eam.click(); cc += 1 } }, cd * 1000); } function toggleClick() { if (e === false) { if (isNaN(cdi.value)) { alert("cc enter a numerical character"); clearInterval(iid); } else { cc = 0; cd = +cdi.value; console.log(cd); e = true; document.body.style.cursor = "crosshair"; sb.style.backgroundColor = "#e00"; sb.innerHTML = "Stop (E)"; createInterval(); } } else { e = false; document.body.style.cursor = "auto"; sb.style.backgroundColor = "#0b0"; sb.innerHTML = "Start (E)"; } } document.addEventListener('keydown', function(event) { var fe = document.activeElement.tagName.toLowerCase(); if (fe !== "input" && fe !== "textarea") { if (event.key === "e") { toggleClick(); } else if (event.key === "f") { b.style.display = b.style.display === "none" ? "block" : "none"; }; }; });
